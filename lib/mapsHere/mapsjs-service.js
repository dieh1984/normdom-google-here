H.util.eval("function U(a,b,c,d,e,f){if(a&&b)this.Se(a),this.cd(b),this.ac(c),this.fi(e),this.ci(f),this.kg(d);else throw Error('Parameters \"scheme\" and \"host\" must be specified');}r(\"H.service.Url\",U);\nfunction vj(a,b){var c=a,d=document,e,f,g,h,k=d.createElement(\"a\");b&&(f=(e=d.getElementsByTagName(\"base\")[0])&&e.href,g=d.head,h=e||g.appendChild(d.createElement(\"base\")),h.href=b);k.href=c;c=k.href;b&&(e?e.href=f:g.removeChild(h));c=/(?:(\\w+):\\/\\/)?(?:([^:]+):([^@/]*)@)?([^/:]+)?(?:[:]{1}([0-9]+))?(\\/[^?#]*)?(\\?[^#]+)?(#.*)?/.exec(c);e=c[1];k=c[4];f=c[5];d=c[6];g=c[7];h=c[8];!c[2]&&k&&/@/.test(k)&&(k=k.split(\"@\")[1]);var c=k,d=d&&0<d.length?d.substr(1):\"\",k={},l,n;if(g)for(l=/([?&]?([^=&+]+))(=([^&]+))?/g;n=\nl.exec(g);)k[decodeURIComponent(n[2])]=n[4]?decodeURIComponent(n[4]):void 0;return new U(e,c,d,k,isNaN(+f)?void 0:+f,h&&0<h.length?h.substr(1):\"\")}U.parse=vj;var wj=0;U.prototype.i=function(){wj++;return new U(this.Pe,this.mc,this.A,this.Jg(),this.Yc,this.ra)};U.prototype.clone=U.prototype.i;U.prototype.Se=function(a){if(!a||\"string\"!==typeof a)throw Error('The \"scheme\" parameter must be a non-empty string.');this.Pe=a;return this};U.prototype.setScheme=U.prototype.Se;U.prototype.Gm=function(){return this.Pe};\nU.prototype.getScheme=U.prototype.Gm;U.prototype.cd=function(a){if(!a||\"string\"!==typeof a||\"-\"===a.charAt(0)||\".\"===a.charAt(0)||\".\"===a.charAt(a.length-1))throw Error('The \"host\" parameter is not a valid host name.');this.mc=a;return this};U.prototype.setHost=U.prototype.cd;U.prototype.wm=function(){return this.mc};U.prototype.getHost=U.prototype.wm;U.prototype.ac=function(a){this.A=a||void 0;return this};U.prototype.setPath=U.prototype.ac;U.prototype.Cm=function(){return this.A};\nU.prototype.getPath=U.prototype.Cm;U.prototype.kg=function(a){if(a)if(\"object\"==typeof a)this.D=a;else throw Error('Parameter \"params\" must be an object.');else this.D={};return this};U.prototype.setQuery=U.prototype.kg;U.prototype.xj=function(){return!this.yh()};U.prototype.hasQuery=U.prototype.xj;U.prototype.Fm=function(){return this.D};U.prototype.getQuery=U.prototype.Fm;\nU.prototype.fi=function(a){if(a&&isNaN(parseInt(a,10)))throw Error('Parameter \"port\" must be a number or undefined');this.Yc=+a||void 0;return this};U.prototype.setPort=U.prototype.fi;U.prototype.Em=function(){return this.Yc};U.prototype.getPort=U.prototype.Em;U.prototype.ci=function(a){this.ra=a||void 0;return this};U.prototype.setAnchor=U.prototype.ci;U.prototype.fh=function(){return this.ra};U.prototype.getAnchor=U.prototype.fh;\nU.prototype.t=function(a){if(\"object\"!==typeof a)throw Error('Parameter \"other\" must be an object.');this.sn(this.D,a);return this};U.prototype.mergeQuery=U.prototype.t;U.prototype.W=function(a){if(!a||\"string\"!==typeof a)throw Error('Parameter \"subDomain\" must be a non-empty string');\".\"===a.substr(a.length-1)&&(a=a.substr(0,a.length-1));return this.cd(a+\".\"+this.mc)};U.prototype.addSubDomain=U.prototype.W;\nU.prototype.m=function(a){if(!a||\"string\"!==typeof a)throw Error('Parameter \"subPath\" must be a non-empty string');return this.ac((this.A?this.A+\"/\":\"\")+a)};U.prototype.addSubPath=U.prototype.m;U.prototype.toString=function(){return[this.Pe+\"://\",this.mc,this.Yc?\":\"+this.Yc:\"\",this.A||!this.yh()||this.ra?\"/\":\"\",this.A?encodeURI(this.A):\"\",this.no(),this.ra?\"#\"+encodeURIComponent(this.ra):\"\"].join(\"\")};U.prototype.toString=U.prototype.toString;\nU.prototype.Jg=function(){var a={},b;for(b in this.D)a[b]=this.D[b];return a};U.prototype.cloneQuery_=U.prototype.Jg;U.prototype.sn=function(a,b){for(var c in b)b.hasOwnProperty(c)&&\"function\"!==typeof b[c]&&(a[c]=b[c]);return a};U.prototype.no=function(){var a=[],b,c=this.D,d;for(b in c)c.hasOwnProperty(b)&&\"function\"!==typeof c[b]&&(d=this.D[b],a.push(encodeURIComponent(b)+(void 0===d?\"\":\"=\"+encodeURIComponent(d))));return 0<a.length?\"?\"+a.join(\"&\"):\"\"};\nU.prototype.yh=function(){var a,b=0;for(a in this.D)if(this.D.hasOwnProperty(a)&&\"function\"!==typeof this.D[a]&&(b++,0<b))break;return!b};function xj(a){function b(b){d.removeChild(e);l&&clearTimeout(l);delete xj.to[f];b&&a.rd&&a.rd.call(k,b)}if(!a.url||!a.Cc)throw Error('Parameter \"options\" must specify at least a URL and a callback.');if(\"function\"!==typeof a.Cc)throw Error(\"Parmaters options.callback must be a function\");var c=a.pf||document,d=c.getElementsByTagName(\"head\")[0],e=c.createElement(\"script\"),c=a.url instanceof U?a.url:vj(a.url,a.Vy),f=xj.dy++,g=a.Si||\"callback\",h=a.Cc,k={},l=null;k.id=f;k.cancel=function(){b(\"cancelled\")};\n0!==a.timeout&&(l=setTimeout(function(){b(\"timeout\")},a.timeout||3E4));xj.to[f]=function(a){b();h.call(k,a)};e.type=\"text/javascript\";e.src=c.toString()+(c.xj()?\"&\":\"?\")+g+\"=\"+(a.co?\"H.service.jsonp.handleResponse(\"+f+\")\":encodeURI(\"H.service.jsonp.handleResponse(\"+f+\")\"));d.appendChild(e);return k}r(\"H.service.jsonp\",xj);xj.mw=function(a){return(a=xj.to[a])?a:function(){}};xj.handleResponse=xj.mw;xj.dy=0;xj.to={};function yj(a){a=a||{};this.dc=a.subDomain;this.A=a.path;this.qu=a.callbackKey;this.sa=a.baseUrl}r(\"H.service.AbstractRestService\",yj);yj.prototype.aa=function(a,b,c,d,e){this.H=(e||this.sa).i();this.dc&&this.H.W(this.dc);this.A&&this.H.ac(this.A);c&&this.H.Se(\"https\");return this};yj.prototype.configure=yj.prototype.aa;yj.prototype.s=function(){return this.H};\nfunction zj(a,b,c,d){if(!ja(c))throw Error(\"onResult callback needed\");if(!ja(d))throw Error(\"onError callback needed\");return xj({url:b,Cc:function(a){c(a)},rd:function(a){d(Error(\"[\"+a+\"] \"+b+\" request failed\"))},Si:a.qu})};function V(a){a=Aj(Bj,a);this.Hs(a.baseUrl);this.Co(a.useCIT);this.Do(a.useHTTPS);Cj(this,a.app_id,a.app_code);this.Xk={}}r(\"H.service.Platform\",V);function Cj(a,b,c){a.Dp=b;a.Cp=c;a.sa.t({app_id:b,app_code:c})}V.prototype.aa=function(a){if(a.configure)return a.configure(this.Dp,this.Cp,this.pt,this.ot,this.sa);throw Error(\"Object is not configurable\");};V.prototype.configure=V.prototype.aa;V.prototype.Do=function(a){this.pt=a;this.sa.Se(a?\"https\":\"http\")};V.prototype.setUseHTTPS=V.prototype.Do;\nV.prototype.Co=function(a){this.ot=a;this.sa.cd((a?\"cit.\":\"\")+this.ku)};V.prototype.setUseCIT=V.prototype.Co;V.prototype.Hs=function(a){this.ku=a.mc;this.sa=a=a.i();a.t({xnlp:\"CL_JSMv3.\"+Ji().version});this.Co(this.ot);this.Do(this.pt);Cj(this,this.Dp,this.Cp)};V.prototype.setBaseUrl=V.prototype.Hs;V.prototype.kv=function(){return this.sa};V.prototype.getBaseUrl=V.prototype.kv;var Bj={app_id:null,app_code:null,useHTTPS:!1,useCIT:!1,baseUrl:new U(\"http\",\"api.here.com\")};\nr(\"H.service.setOptions\",function(a,b){Bj[a]=b});r(\"H.service.getOptions\",function(a){return Bj[a]});function Aj(a,b){var c={},d;for(d in a)!a.hasOwnProperty(d)||d in c||(c[d]=a[d]),b&&b.hasOwnProperty(d)&&(c[d]=b[d]);return c};function Dj(a){a=Aj(Bj.trafficIncidents,a);a.callbackKey=\"jsoncallback\";Dj.a.constructor.call(this,a)}u(Dj,yj);r(\"H.service.TrafficIncidentsService\",Dj);Dj.prototype.ay=function(a,b,c){a=this.s().i().m(\"incidents.json\").t(a);return zj(this,a,b,c)};Dj.prototype.requestIncidents=Dj.prototype.ay;Dj.prototype.vs=function(a,b,c,d,e,f){a=this.s().i().m([\"incidents/json\",c,a,b].join(\"/\")).t(f||{});return zj(this,a,d,e)};Dj.prototype.requestIncidentsByTile=Dj.prototype.vs;\nBj.trafficIncidents={subDomain:\"traffic\",path:\"traffic/6.1\"};V.prototype.yq=function(){return this.aa(new Dj)};V.prototype.getTrafficIncidentsService=V.prototype.yq;function Ej(){this.To={}}Ej.prototype.tl=function(a,b){var c=this.To[a]||(this.To[a]=[]),d,e=b.length;for(d=0;d<e;d++)c.push(new Fj(b[d]))};function Fj(a){var b,c=a.boxes,d,e;this.alt=a.alt;this.label=a.label;this.min=a.minLevel;this.max=a.maxLevel;this.yk=[];if(c&&(b=c.length))for(d=c[0],e=new I(d[0],d[1],d[2],d[3]),this.yk.push(e),this.pk=new I(d[0],d[1],d[2],d[3]),a=1;a<b;a++)d=c[a],e=new I(d[0],d[1],d[2],d[3]),this.yk.push(e),this.pk.Ad(e,!1,this.pk)}\nFj.prototype.Cf=function(a,b){var c;if(a>=this.min&&a<=this.max)if((c=this.yk.length)&&this.pk){if(this.pk.Cf(b))for(;c--;)if(this.yk[c].Cf(b))return!0}else return!0;return!1};function Gj(a){var b=0,c,d,e=a.length;if(0===e)return b;for(c=0;c<e;c++)d=a.charCodeAt(c),b=(b<<5)-b+d,b|=0;return b}var Hj=Function(\"return this\")();function Ij(a,b){function c(){k=ta();Jc.font=g;h=Math.round(Jc.measureText(\"BESbswyMi\").width);-1===e.indexOf(h)?b():3E5<k-d?b(\"timeout\"):(l=50*++f,Hj.setTimeout(c,Math.min(l,d+3E5-k)))}var d=ta(),e=Jj(),f=0,g=\"30px \"+a+\",\"+Kj.join(\",\"),h,k,l;-1!==Kj.indexOf(a)?b():Hj.setTimeout(c,50)}\nfunction Lj(a,b){function c(a){a?b(a):0===--d&&b()}var d=a.length;a.forEach(function(a){Ij(a,c)})}var Kj=Ja(\"monospace serif\");function Jj(){var a=[];Kj.forEach(function(b){Jc.font=\"30px \"+b;a.push(Math.round(Jc.measureText(\"BESbswyMi\").width))});return a}function Mj(a,b){var c=b||document,d=c.createElement(\"style\"),e;d.appendChild(c.createTextNode(\"\"));c.head.appendChild(d);e=d.sheet;a.forEach(function(a,b){e.insertRule(a,b)});return d}function Nj(){}\nNj.prototype.pop=function(a){this[a]||(this[a]=[]);return this[a].pop()||Hj.document.createElement(\"canvas\")};Nj.prototype.push=function(a,b){this[b]||(this[b]=[]);this[b].push(a)};var Oj=new Nj;function Pj(a,b,c,d,e,f,g){var h=this;g=g||{};f=f?f:{};var k=a.s().i().m(b+\"/\"+a.Z+\"/\"+c).t(f),l=a.Ga;this.service_=a;this.tileBaseUrl_=k;db.call(this,{tileSize:d,max:512===d?19:20,min:512===d?2:0,getURL:function(a,b,c){var f=h.tileBaseUrl_.i();l&&f.W(l[(c+b+a)%l.length]);f.m(c+\"/\"+a+\"/\"+b+\"/\"+d+\"/\"+e);return f.toString()},crossOrigin:g.crossOrigin,uri:k.toString().replace(/_/g,\"\")+d});this.tileType_=b;this.scheme_=c;this.params_=f;this.copyrightKey_=c.split(\".\")[0];this.updateAndReload_=v(this.updateAndReload_,\nthis);this.getCopyrights=this.ua;this.ru=vb();a.addEventListener(\"versionupdate\",this.updateAndReload_)}u(Pj,db);Pj.prototype.MAX_STORE_TIME=2592E6;Pj.prototype.c=function(){db.prototype.c.call(this);this.service_.removeEventListener(\"versionupdate\",this.updateAndReload_)};Pj.prototype.ua=function(a,b){var c=this.service_.ua().To[this.copyrightKey_],d,e=c?c.length:0,f=[];for(d=0;d<e;d++)c[d].Cf(b,a)&&f.push(c[d]);return f};\nPj.prototype.updateAndReload_=function(){var a=this.service_;this.tileBaseUrl_=a.s().i().m(this.tileType_+\"/\"+a.Z+\"/\"+this.scheme_).t(this.params_);this.reload(!1)};Pj.prototype.Fg=function(){return this.ru};r(\"H.service.MapTileProvider.prototype.canStore\",Pj.prototype.Fg);Pj.prototype.xf=function(){return this.Fg()?ub():Q.prototype.xf.call(this)};r(\"H.service.MapTileProvider.prototype.getStorage\",Pj.prototype.xf);function Qj(a){a=Aj(Bj.maptile,a);yb.call(this);this.sa=a.baseUrl;this.A=a.path;this.dc=a.subDomain;this.Ga=a.shards;this.Q=(this.Sm=!!a.ignoreTypes)?null:a.type;this.Z=a.version;this.cj=new Ej;this.jo={};this.bj=0}u(Qj,F);r(\"H.service.MapTileService\",Qj);function Rj(a,b){for(var c={},d=a[b+\"s\"][b],e=d.length;e--;)c[d[e].id]=d[e];a[b+\"s\"]=c}\nQj.prototype.aa=function(a,b,c,d,e){this.H=(this.sa||e).i();this.dc&&this.H.W(this.dc);this.Q&&this.H.W(this.Q);this.A&&this.H.ac(this.A);\"newest\"===this.Z&&this.hm();return this};Qj.prototype.configure=Qj.prototype.aa;Qj.prototype.s=function(){return this.H};Qj.prototype.tj=function(){return this.Q};Qj.prototype.getType=Qj.prototype.tj;Qj.prototype.Im=function(){return this.Z};Qj.prototype.getVersion=Qj.prototype.Im;Qj.prototype.Eo=function(a){this.Z=a};\nQj.prototype.ua=function(){this.bj||(this.Z&&\"newest\"!==this.Z||\"traffic\"===this.Q)&&Sj(this);return this.cj};Qj.prototype.getCopyrights=Qj.prototype.ua;Qj.prototype.Vo=function(a){a=a.response;var b;Rj(a,\"map\");Rj(a,\"scheme\");Rj(a,\"tiletype\");Rj(a,\"format\");Rj(a,\"resolution\");Rj(a,\"language\");if(\"newest\"===this.Z&&\"traffic\"!==this.Q)for(b in a.maps)a.maps[b].hash&&a.maps[b].newest&&(this.Eo(a.maps[b].hash),this.dispatchEvent(\"versionupdate\"));this.Vm=a;this.dispatchEvent(\"infoupdate\")};\nQj.prototype.hm=function(){var a=this,b=this.s().i().m(\"info\").t({output:\"json\"});this.Ga&&b.W(this.Ga[0]);xj({url:b,Si:\"callback_func\",Cc:function(b){a.Vo(JSON.parse(b.replace(/,\\s?\\]/g,\"]\")))},rd:function(a){throw Error(\"[\"+a+\"]: Could not fetch meta-info from map tile service @\"+b.toString());},co:!0})};\nfunction Sj(a){var b=a.s().i().m(\"copyright\").m(a.Z).t({output:\"json\"});a.Ga&&b.W(a.Ga[0]);a.bj=1;xj({url:b,Si:\"callback_func\",Cc:function(b){this.bj=2;b=JSON.parse(b);var d=a.cj,e;for(e in b)b.hasOwnProperty(e)&&d.tl(e,b[e]);a.dispatchEvent(\"copyrightupdate\")},rd:function(a){this.bj=-1;throw Error(\"[\"+a+\"]: Could not fetch copyrights from map tile service @\"+b.toString());},co:!0})}Qj.prototype.ym=function(){return this.Vm};Qj.prototype.getInfo=Qj.prototype.ym;\nQj.prototype.Sg=function(a,b,c,d,e,f){var g;g=Gj(this.s().i().m(a+\"/\"+this.Z+\"/\"+b+\"/\"+c+\"/\"+d).t(e?e:{}).toString());var h=this.jo[g];h||(h=new Pj(this,a,b,c,d,e,f),this.jo[g]=h);return h};Qj.prototype.createTileProvider=Qj.prototype.Sg;Qj.prototype.o=function(a,b,c,d,e,f,g,h){a=this.Sg(a,b,c,d,e,h);return new hi(a,{opacity:f,dark:!!g})};Qj.prototype.createTileLayer=Qj.prototype.o;Bj.maptile={type:\"base\",version:\"newest\",subDomain:\"maps\",path:\"maptile/2.1\",shards:[\"1\",\"2\",\"3\",\"4\"]};\nV.prototype.ph=function(a){var b;b=Aj(Bj.maptile,a);var c;c=\"\"+(b.ignoreTypes?\"\":b.type);c+=b.path;c+=b.subDomain;c+=b.baseUrl;c+=b.shards?b.shards.join(\"\"):\"\";b=Gj(c);c=this.Xk[b];c||(c=this.aa(new Qj(a)),this.Xk[b]=c);return c};V.prototype.getMapTileService=V.prototype.ph;function Tj(a){this.su=a;this.Nb=this.kh(\"general\",\"default\")||Uj;this.ff=new Oh(200)}Tj.prototype.qe=function(a,b){for(var c,d,e,f,g=1;g<arguments.length;g++)for(c in d=arguments[g],d)if(d.hasOwnProperty(c))for(e in a[c]||(a[c]={}),f=d[c],f)f.hasOwnProperty(e)&&void 0!==f[e]&&(a[c][e]=f[e]);return a};Tj.prototype.Na=function(a,b){var c=this.kh(\"spaceToGroup\",b);return Vj(this,a,c?c+\"\":void 0)};\nfunction Vj(a,b,c){var d,e,f;f=(b?b+\"_\":\"\")+(c?c:\"default\");d=a.Nb;(e=a.ff.get(f))?d=e:(b&&c?(d=Vj(a,b,void 0),e=Vj(a,void 0,c),b=a.kh(\"venues\",b,\"groups\",c),d=a.qe({},a.Nb,d,e,b)):b&&!c?d=a.qe({},a.Nb,a.kh(\"venues\",b,\"default\")):!b&&c&&(d=a.qe({},a.Nb,a.kh(\"general\",\"groups\",c))),a.ff.add(f,d,1));return d}Tj.prototype.kh=function(a){for(var b=this.su,c=arguments,d=c.length,e=0;e!==d;)if(b=b[c[e++]],!b)return;return b};\nvar Uj={space:{fillColor:\"rgba(198, 175, 255, .7)\",strokeColor:\"rgb(162, 141, 216)\",lineWidth:0.5},spaceLabel:{fillColor:\"rgb(78,66,111)\"},floor:{fillColor:\"rgba(249, 244, 253, .7)\",strokeColor:\"rgba(255, 255, 255, .7)\",lineWidth:1}};function Wj(a,b,c,d,e,f,g,h){this.Bl=[];this.Kj={};P.call(this,a,b,c,d,e,f,g,h)}u(Wj,P);Wj.prototype.qm=function(){return this.Bl};function Xj(){}Xj.prototype.Oe=function(){};r(\"H.service.remote.IObject.prototype.retain\",Xj.prototype.Oe);Xj.prototype.He=function(){};r(\"H.service.remote.IObject.prototype.release\",Xj.prototype.He);function Yj(a,b){var c={};this.$r=a;ya(c,b||c);Ah.call(this,c);this.Ie={};Zj(this)}u(Yj,Ah);r(\"H.service.remote.ObjectProvider\",Yj);Yj.prototype.e=function(){Ah.prototype.e.call(this)};function Zj(a){a=a.Ya(me.SPATIAL);a.update(a.Ac+1,je.ADD)}var ak=[];Yj.prototype.Db=function(){return ak};Yj.prototype.requestMarkers=Yj.prototype.Db;Yj.prototype.Cb=function(){return ak};Yj.prototype.requestDomMarkers=Yj.prototype.Cb;Yj.prototype.Fe=function(){return!0};Yj.prototype.providesSpatials=Yj.prototype.Fe;\nYj.prototype.Me=function(){return ak};Yj.prototype.requestSpatials=Yj.prototype.Me;Yj.prototype.vc=function(a){var b=a.ap,c;!b&&(c=a.$o)&&(delete a.$o,c=this.$r.parse(this,a,c))&&(b=a.ap=c.spatials);return b||ak};Yj.prototype.requestSpatialsByTile=Yj.prototype.vc;Yj.prototype.k=function(a){var b=a.Y();if(this.Ie[b])throw\"Remote object \"+b+\" allready added\";return this.Ie[b]=a};Yj.prototype.P=function(a){delete this.Ie[a.Y()]};function bk(a,b,c){Yj.call(this,b,c);this.fa=a;this.responseQueue_=[];ck(this.fa)||(this.gk=v(this.gk,this),this.fa.addEventListener(\"statechange\",this.gk));this.Ga=a.Ga;this.dj=0;this.Zn={onSpaceCreated:c&&c.onSpaceCreated,floorLevel:0,styler:null};this.requestSpatialsByTile=v(this.vc,this)}u(bk,Yj);bk.prototype.qx=function(a,b,c,d){this.uo?this.Zr.apply(this,arguments):d||this.responseQueue_.push({wy:a,response:c,Yu:b});d&&(a.Kj[b]=!0)};function dk(a){return a.getVisibility(!0)}\nbk.prototype.vc=function(a,b,c){var d;this.ys||ek(this);d=a.Qb();b&&(d=d.filter(dk));if(!c){b=this.dj;var e,f,g,h;if(!a.Kj[b]&&ck(this.fa)){e=this.fa.s();c=a.x;f=a.y;h=g=a.z;for(var k=1,l;h--;)l=1<<h,k*=4,k+=(c&l&&1)|(f&l&&2);h=k.toString(4).substr(1);e=e.i().m(\"0/tiles-ia\").m(\"L\"+b).m(h+\".json\");this.Ga&&e.W(this.Ga[(c+f+g)%this.Ga.length]);new Rc(\"text/plain\",e.toString(),v(this.qx,this,a,b));a.Kj[b]=!0}a.Kj[this.dj]=!0}a.vg&&(d=d.concat(a.vg),delete a.vg);return d};\nr(\"H.service.venues.ObjectProvider.prototype.requestSpatialsByTile\",bk.prototype.vc);m=bk.prototype;m.ig=function(a){var b,c,d;for(b in this.Ie)for(c in d=this.Ie[b].qm(),d)d[c].ig(a);Zj(this);this.Ka();this.dj=a};m.tf=function(){return this.dj};m.Zr=function(a,b,c,d){if(!d&&(this.Zn.floorLevel=b,b=(b=this.$r.parse(this,a,c,this.Zn))&&b.spatials))for(a.vg=a.vg?a.vg.concat(b):b,a=b.length;a--;)b[a].la(je.ADD)};m.gk=function(){ck(this.fa)&&(fk(this),this.fa.removeEventListener(\"statechange\",bk.prototype.gk))};\nfunction fk(a){ck(a.fa)&&a.uo&&a.dispatchEvent(\"reload\")}function ek(a){a.ys=!0;gk(a,function(b,c){c?a.dispatchEvent(\"error\"):(a.Zn.styler=b,hk(a,v(a.ox,a)))})}m.ox=function(a){a?this.dispatchEvent(\"error\"):(this.responseQueue_.forEach(function(a){this.Zr(a.wy,a.Yu,a.response)},this),this.responseQueue_=null,this.uo=!0,fk(this))};m.ys=!1;m.uo=!1;function gk(a,b){new Rc(\"application/json\",a.fa.Ws.i().m(\"styles/styles.json\").toString(),function(a,d){b(d?null:new Tj(a),d)})}var ik=0;\nfunction hk(a,b){var c=a.fa.Ws.i().m(\"fonts\"),d=document,e=[],f,g=[];2===ik?b():(jk.forEach(function(a){g.push(\"nokiapuretext{name}_rg-webfont\".replace(\"{name}\",a))}),1!==ik&&(jk.forEach(function(a,b){f=c.i().m(g[b]);e.push('@font-face {font-family: \"nokiapuretext{name}_rg-webfont\";src: url(\"{url}.woff2\") format(\"woff2\"),url(\"{url}.woff\") format(\"woff\"),url(\"{url}.ttf\") format(\"truetype\");font-weight: normal;font-style: normal;}'.replace(/\\{name\\}/g,a).replace(/\\{url\\}/g,f.toString()))}),a.iq=Mj(e,\nd),ik=1),Lj(g,function(c){ik=c?0:2;c&&a.iq&&Ic(a.iq);b(c)}))}var jk=Ja(\"inn2 dflt in insl as me\");function kk(a,b,c,d){N.call(this,lk(a));this.Oi=c;this.Ni=d;this.kj={};this.uid=b;this.Yd=0}u(kk,N);r(\"H.service.venues.Building\",kk);kk.prototype.Y=function(){return this.uid};kk.prototype.getId=kk.prototype.Y;kk.prototype.gw=function(){return this.ma};kk.prototype.getVenue=kk.prototype.gw;kk.prototype.Lv=function(){return this.Oi};kk.prototype.getMinLevel=kk.prototype.Lv;kk.prototype.Bm=function(){return this.Ni};kk.prototype.getMaxLevel=kk.prototype.Bm;kk.prototype.tf=function(){return this.Yd};\nkk.prototype.getCurrentLevel=kk.prototype.tf;kk.prototype.ig=function(a){var b,c,d;if(!isNaN(a)&&(b=this.Oi,c=this.Ni,a!==this.Yd))for(this.Yd=a;b<=c;b++)(d=this.kj[b])&&d.setVisibility(b===a);return this.Yd};kk.prototype.mh=function(a){return this.kj[a]};kk.prototype.getFloor=kk.prototype.mh;kk.prototype.gu=function(a,b){this.Oi=Math.min(this.Oi,a);this.Ni=Math.max(this.Ni,b)};kk.prototype.adjustMinMaxLevels=kk.prototype.gu;function mk(a,b){N.call(this,lk(a));this.Pi={};this.Uo=b;a.k(this)}u(mk,N);r(\"H.service.venues.Venue\",mk);mk.prototype.hh=function(a){return this.Pi[a]};mk.prototype.getBuilding=mk.prototype.hh;mk.prototype.qm=function(){return this.Pi};mk.prototype.getBuildings=mk.prototype.qm;mk.prototype.addBuilding=function(a){this.Pi[a.Y()]=a;this.k(a)};mk.prototype.Y=function(){return this.Uo};mk.prototype.getId=mk.prototype.Y;function nk(a,b,c,d){d=d||ok;this.$c={};d.provider=a;xe.call(this,b,d);c&&(this.Uo=c)}u(nk,xe);r(\"H.service.remote.Spatial\",nk);var ok={};nk.prototype.Y=function(){return this.Uo||xe.prototype.Y.call(this)};nk.prototype.getId=nk.prototype.Y;nk.prototype.Oe=Function();nk.prototype.retain=nk.prototype.Oe;nk.prototype.He=Function();nk.prototype.release=nk.prototype.He;function pk(a,b,c){this.lj=a;c&&(this.labels=c);0<=b&&(this.Iq=b)}pk.prototype.Iq=-1;var qk=new pk([]);\nnk.prototype.fe=function(a){return(this.$c[a.key]||qk).lj};nk.prototype.getGeometry=nk.prototype.fe;nk.prototype.Am=function(a){return(this.$c[a.key]||qk).labels};nk.prototype.getLabels=nk.prototype.Am;nk.prototype.xm=function(a){return(this.$c[a.key]||qk).Iq};nk.prototype.getHybridIdx=nk.prototype.xm;function rk(a,b,c){this.Q=c&&c.type||\"\";nk.call(this,a,!0,b);this.setData(c)}u(rk,nk);r(\"H.service.venues.Space\",rk);rk.prototype.tj=function(){return this.Q};rk.prototype.getType=rk.prototype.tj;rk.prototype.Aw=function(){return\"floor/polygon\"===this.Q};rk.prototype.isFloorSpace=rk.prototype.Aw;rk.prototype.rw=function(a){a&&(this.sw=new qe(a))};rk.prototype.initLabelStyle=rk.prototype.rw;rk.prototype.mh=function(){var a=this.ma;return this.isFloorSpace()?a:a&&a.ma};rk.prototype.getFloor=rk.prototype.mh;\nrk.prototype.qs=0;rk.prototype.Oe=function(){++this.qs};rk.prototype.retain=rk.prototype.Oe;rk.prototype.He=function(){var a=--this.qs,b;a||(b=this.mh(),this.isFloorSpace()?b.Ob&&(b.P(b.Ob),b.Ob=null,b.Vi()):b&&(delete b.Ho[this.Y()],b.bh.P(this),b.Vi()));return 1>a};rk.prototype.release=rk.prototype.He;function sk(){}sk.prototype.parse=function(){};r(\"H.service.remote.IParser.prototype.parse\",sk.prototype.parse);function tk(a,b,c){N.call(this,lk(a));this.Zu=c;this.Ob=new rk(a,b.id,b);this.k(this.Ob);this.bh=new N(lk(a));this.k(this.bh);this.Ho={}}u(tk,N);r(\"H.service.venues.Floor\",tk);tk.prototype.oh=function(){return this.Zu};tk.prototype.getLevel=tk.prototype.oh;tk.prototype.uv=function(){return this.Ob};tk.prototype.getFloorSpace=tk.prototype.uv;tk.prototype.$v=function(){return this.bh};tk.prototype.getSpaces=tk.prototype.$v;tk.prototype.hh=function(){return this.ma};tk.prototype.getBuilding=tk.prototype.hh;\ntk.prototype.getData=function(){return this.Ob&&this.Ob.getData()};tk.prototype.getData=tk.prototype.getData;tk.prototype.setData=function(a){this.Ob.setData(a);return this};tk.prototype.setData=tk.prototype.setData;tk.prototype.wq=function(a){return this.Ho[a]};tk.prototype.getSpace=tk.prototype.wq;tk.prototype.Vi=function(){if(!this.bh.Dc&&!this.Ob){var a=this.hh(),b=this.oh();b===a.Yd&&(a.Yd=0);delete a.kj[b];a.P(this);a.Dc||(b=a.ma,delete b.Pi[a.Y()],b.P(a),b.Dc||b.Ra().P(b))}};function uk(){}var vk;uk.prototype.Wt=Math.PI/180;function wk(a,b){return a&&a.category&&a.category[b||\"id\"]}function xk(a){var b,c;return a.sort(function(a,e){b=a.object.type;c=e.object.type;return b>c?-1:b<c?1:0})}\nuk.prototype.parse=function(a,b,c,d){var e=d.floorLevel,f=d.onSpaceCreated;d=d.styler;var g=[],h,k,l,n,p,q,s,t,x,C={};vk=!1;c=c.replace(/''( )?/g,'$1\\\\\"');try{c=Hj.JSON.parse(c)}catch(S){vk=!0}if(c.length)for(c=xk(c),h=c.length;h--;){k=c[h];l=k.area;q=l.length;s=p=t=void 0;(p=0<q)||(vk=!0,p=void 0);if(p)for(t=Array(q/2);q;)s=l[--q],p=l[--q],t[q/2]=new G(p,s);l=t?[t]:[];k=k.object;t=x=A;if(1!==k.type)switch(q=k.type.replace(\"/polygon\",\"\"),q){case \"floor\":p=q=k.buildingId;(t=a.Ie[p])||(t=new mk(a,p),\nt.G(a));p=k.buildingMinLevel;x=k.buildingMaxLevel;(s=t.hh(q))?s.adjustMinMaxLevels(p,x):(s=new kk(a,q,p,x),t.addBuilding(s),s.ig(a.tf()));0>b.Bl.indexOf(s)&&b.Bl.push(s);(p=s.mh(e))?(q=p.Ob,l=q.fe(b).concat(l)):(p=new tk(a,k,e),q=s,t=p,s=t.oh(),t.setVisibility(s===q.Yd),q.kj[s]=t,q.k(t),q=p.Ob,f&&f(q),s=wk(p.getData(),\"profileKey\"),x=d.Na(s,void 0),q.Lk(x.floor));C[k.id]=p;0>g.indexOf(q)&&g.push(q);q.$c[b.key]=new pk(l,-1,void 0);break;case \"hollow\":t=\"hollow-area\";case \"space\":if(n=k.id,p=C[/_d$/.test(k.outerAreaId)?\nk.outerAreaId:k.outerAreaId+\"_d\"])q=p.wq(n),s=wk(p.getData(),\"profileKey\"),t=t||wk(q?q.getData():k),q||(x=q=new rk(a,n,k),p.Ho[x.Y()]=x,p.bh.k(x),x=d.Na(s,t),q.Lk(x.space),f&&f(q)),q.Oe(),(k=k.label)&&k.firstLinePos?(x=x||d.Na(s,t),t=q.sw,k=[{lines:Ja(k.text,\"\\n\"),angle:k.rotation*this.Wt,font:k.font.face,size:k.font.size,lineHeight:k.font.lineHeight,color:t&&t.fillColor||x.spaceLabel.fillColor,x:k.firstLinePos[0],y:k.firstLinePos[1]}]):k=null,g.push(q),q.$c[b.key]=new pk(l,-1,k)}}else vk=!0;return vk?\nvoid 0:{spatials:g}};r(\"H.service.venues.Parser.prototype.parse\",uk.prototype.parse);function yk(a,b){var c=b||{};if(!(a&&a instanceof zk))throw Error(\"InvalidArgument: service required\");this.No=c.tileCacheSize||256;this.pb=v(this.pb,this);this.objectProvider_=new bk(a,new uk,{min:this.qp,max:this.op,onSpaceCreated:c.onSpaceCreated});this.objectProvider_.G(this);this.Xb=v(this.Xb,this);this.objectProvider_.addEventListener(\"update\",this.Xb);this.On=v(this.On,this);this.objectProvider_.addEventListener(\"reload\",this.On);this.Nn=v(this.Nn,this);this.objectProvider_.addEventListener(\"error\",\nthis.Nn);this.Fa=c.pixelRatio||c.pixelratio||1;this.tileSize=256;this.yi=Mh(this.tileSize,this.Fa);this.ff=new Oh(this.No,this.pb);this.getCache=this.Pb;Q.call(this,{min:this.qp,max:this.op})}u(yk,Q);r(\"H.service.venues.TileProvider\",yk);m=yk.prototype;m.qp=16;m.Fa=1;m.op=20;m.Xb=function(){this.dispatchEvent(\"update\")};m.Nn=function(){this.dispatchEvent(\"error\")};m.On=function(){this.reload(!0)};\nm.pb=function(a,b){var c,d,e;c=b.Qb();for(e=c.length;e--;)d=c[e],delete d.$c[b.key],d.He();b.data&&Oj.push(b.zk(),this.tileSize);b.Ak()};m.ig=function(a){this.objectProvider_.ig(a)};yk.prototype.setCurrentLevel=yk.prototype.ig;yk.prototype.tf=function(){return this.objectProvider_.tf()};yk.prototype.getCurrentLevel=yk.prototype.tf;yk.prototype.Pb=function(){return this.ff};\nyk.prototype.uc=function(a,b,c,d){var e;this.Pb().get(this.getTileKey(a,b,c))?d(null,null):e=Hj.setTimeout(function(){d(null,null)},500);return{cancel:function(){Hj.clearTimeout(e)}}};yk.prototype.requestInternal=yk.prototype.uc;yk.prototype.lf=function(a,b,c){var d=Oj.pop(this.tileSize),e=this.Pb().get(this.getTileKey(a,b,c));e||(e=new Wj(this.uh(a,b,c),a,b,c,this.tileSize,this.Fa,c+this.yi,this.objectProvider_));e.F(d)||Oj.push(d,this.tileSize);return e};yk.prototype.createTileInternal=yk.prototype.lf;function zk(a){var b=Bj.venues;a=Aj(b,a||{});yb.call(this);this.sa=b.baseUrl;this.A=a.path;this.dc=a.subDomain;this.Ga=b.shards}u(zk,F);r(\"H.service.venues.Service\",zk);var Ak={ERROR:-1,INIT:0,READY:1};zk.State=Ak;\nzk.prototype.aa=function(a,b,c,d,e){this.H=(this.sa||e).i();this.Ws=this.H.i().W(\"js\").m(\"statics/venues\").kg();this.dc&&this.H.W(this.dc);this.Q&&this.H.W(this.Q);this.A&&this.H.ac(this.A);a=Bj.venueSignature;b=this.H.i();b.W(a.subDomain);b.m(a.path);b.m(a.version);this.my=b;this.Gu=this.H.i();this.j===Ak.INIT&&this.fq();return this};zk.prototype.configure=zk.prototype.aa;function ck(a){return a.j===Ak.READY}zk.prototype.s=function(){return ck(this)?this.H:void 0};\nzk.prototype.fq=function(){var a=this;new Rc(\"application/json\",this.my.toString(),function(b,c){if(c)a.Ld(Ak.ERROR,c);else{var d=b.SignatureTokens,e=new Date(b.Expires),f=e?e.getTime()-ta()-36E5:0;a.H.t(d);e&&4E9>f&&Hj.setTimeout(v(a.fq,a),Math.max(f,0));a.Ld(Ak.READY)}})};zk.prototype.Fu=function(a,b,c){var d=Bj.venuesDiscovery;a=this.Gu.i().W(d.subDomain).m(d.path).m(d.version).t(Aj(a,d.params));new Rc(\"application/json\",a.toString(),function(a,d){d?c(d):b(a)})};zk.prototype.discover=zk.prototype.Fu;\nzk.prototype.o=function(a){return new hi(new yk(this,a))};zk.prototype.createTileLayer=zk.prototype.o;zk.prototype.j=Ak.INIT;zk.prototype.getState=function(){return this.j};zk.prototype.getState=zk.prototype.getState;zk.prototype.Ld=function(a,b){var c=new ec(\"statechange\",this);b&&(c.errorCode=b);this.j=a;this.dispatchEvent(c)};V.prototype.Aq=function(a){return this.aa(new zk(a))};V.prototype.getVenueService=V.prototype.Aq;\nvar Bk={subDomain:\"venue.maps\",path:\"\",shards:Ja(\"1 2 3 4\").map(function(a){return\"static-\"+a})};Bj.venues=Bk;Bj.venueSignature={version:\"v1\",subDomain:\"signature\",path:\"venues/signature\"};Bj.venuesDiscovery={version:\"v1\",subDomain:\"discovery\",path:\"venues/discovery\"};var Ck={};function lk(a){Ck.provider=a;return Ck};function Dk(){this.nc={}}Dk.prototype.Ic=function(a,b){var c=a+b,d,e,f;if(!(d=this.nc[c])){f={size:{w:26,h:32},anchor:{x:13,y:30}};if(\"CLOSURE\"!==a)switch(d=Ek,a){case \"CONGESTION\":d=d.replace(\"{{icon}}\",Fk);break;case \"ROADWORKS\":d=d.replace(\"{{icon}}\",Gk);break;case \"ACCIDENT\":d=d.replace(\"{{icon}}\",Hk);break;default:d=d.replace(\"{{icon}}\",Ik)}else d=Jk,f.anchor.y=16;e=Kk[b]||Kk.BLOCKING;d=d.replace(\"{{color}}\",e);this.nc[c]=d=new O(d,f)}return d};\nvar Kk={BLOCKING:\"#323232\",VERYHIGH:\"#d5232f\",HIGH:\"#ffa100\"},Fk='<path d=\"m 18,15 0,0 c 0,-0.1 0,-0.2 0,-0.4 l 0,-0.2 c 0,-0.1 0,-0.2 0,-0.4 0,0 0,0 0,0 0.6,0 1.1,-0.4 1.1,-1 0,-0.5 -0.5,-1 -1,-1 -0.7,0 -1.1,0.5 -1.1,1 -0.1,0 -0.3,-0.1 -0.4,-0.1 l -0.6,0 -0.3,-0.5 C 15.2,11.6 14.3,11 13.3,11 L 18,11 17.2,9.6 C 17,9.3 16.7,9 16.3,9 L 12.8,9 C 12.4,9 12,9.3 11.8,9.6 L 11.1,11 9.8,11 C 9.7,11 9.6,11 9.5,11 9.2,11 9,10.9 9,10.6 L 9,10.4 C 9,10.2 9.2,9.9 9.5,9.9 l 1.2,0 0.6,-1.04 c 0.3,-0.5 0.9,-0.9 1.5,-0.9 l 3.5,0 c 0.6,0 1.2,0.4 1.5,0.9 l 0.6,1.04 1.2,0 c 0.2,0 0.4,0.3 0.4,0.5 l 0,0.2 c 0,0.3 -0.2,0.5 -0.4,0.5 l -0.1,0 c 0.3,0.3 0.5,0.7 0.5,1.1 l 0,3.4 c 0,0.2 -0.2,0.4 -0.4,0.4 l -1.1,0 C 18.3,16 18,15.8 18,15.6 L 18,15 z M 8,18.1 c 0.6,0 1.1,-0.5 1.1,-1.1 0,-0.5 -0.5,-1 -1.1,-1 -0.6,0 -1.1,0.5 -1.1,1 0,0.6 0.5,1.1 1.1,1.1 m 7,0 c 0.6,0 1.1,-0.5 1.1,-1.1 0,-0.5 -0.5,-1 -1.1,-1 -0.5,0 -1,0.5 -1,1 0,0.6 0.5,1.1 1,1.1 M 14.2,13.6 C 14,13.3 13.7,13 13.3,13 L 9.8,13 C 9.4,13 9,13.3 8.8,13.6 L 8.1,15 15,15 14.2,13.6 z m -8.2,1 0,-0.2 c 0,-0.2 0.2,-0.5 0.5,-0.5 l 1.1,0 0.7,-1 C 8.6,12.4 9.2,12 9.8,12 l 3.5,0 c 0.6,0 1.2,0.4 1.5,0.9 l 0.6,1 1.2,0 c 0.2,0 0.4,0.3 0.4,0.5 l 0,0.2 c 0,0.3 -0.2,0.5 -0.4,0.5 l -0.1,0 c 0.3,0.3 0.5,0.7 0.5,1.1 l 0,3.4 c 0,0.2 -0.2,0.4 -0.4,0.4 l -1.1,0 C 15.3,20 15,19.8 15,19.6 L 15,19 8,19 8,19.6 C 8,19.8 7.8,20 7.5,20 l -1,0 C 6.2,20 6,19.8 6,19.6 l 0,-3.4 c 0,-0.4 0.2,-0.8 0.6,-1.1 l -0.1,0 C 6.2,15.1 6,14.9 6,14.6\" fill=\"#ffffff\" />',\nGk='<path d=\"m 9.24,13.2 -3.7,6.8 1.3,0 2.8,-5.1 1.36,1.5 0,3.6 1.1,0 0,-4 -1.4,-1.6 -1.46,-1.2 z M 14.2,9.5 c 0.7,0 1.3,-0.5 1.3,-1.21 0,-0.7 -0.6,-1.2 -1.3,-1.2 -0.7,0 -1.2,0.5 -1.2,1.2 0,0.71 0.5,1.21 1.2,1.21 m -4.46,0.5 1.06,0 -0.96,2.1 -1,-0.8 0.9,-1.3 z m 2.56,4 -1,-0.7 1,-1.9 0,2.6 z m 6.9,1.7 c -0.4,-0.5 -1.5,-1.1 -2.3,0 -0.2,0.3 -0.6,0.7 -0.9,1.2 l -2.7,-2.1 0,-5 -0.8,-0.7 -3.26,0 -1.5,2.3 7.86,6 C 14.7,18.6 13.8,20 13.8,20 l 6,0 1.5,-1.6 c 0,0 -1.7,-2.2 -2.1,-2.7\" fill=\"#ffffff\" />',Hk=\n'<path d=\"m 10.2,15.9 c 0.4,-0.5 1,-0.5 1.4,0 0.5,0.4 0.5,1 0,1.4 -0.4,0.4 -1,0.4 -1.4,0 -0.45,-0.4 -0.45,-1 0,-1.4 m 4.9,-5 c 0.4,-0.4 1.1,-0.4 1.5,0 0.4,0.4 0.4,1.1 0,1.5 -0.4,0.4 -1.1,0.4 -1.5,0 -0.4,-0.4 -0.4,-1.1 0,-1.5 m 2.6,3.8 c 0.1,0.3 0,0.7 -0.3,1 l -1.9,1 c 0,0 0,0.8 0,1.1 0,0.3 0,0.2 -0.1,0.3 -0.1,0.1 -0.3,0.2 -0.5,0.2 l -2.6,-0.3 4.9,-4.9 0.5,1.6 z m -6.5,5 0.1,0.2 c 0.2,0.1 0.5,0.1 0.7,0 l 0.8,-0.9 1.8,0.1 c 1.1,0 1.4,0 1.7,-0.6 l 0.1,-1.3 1.8,-0.8 c 0.4,-0.4 0.6,-1.1 0.4,-1.7 l -0.3,-1.1 0.8,-0.8 c 0.2,-0.2 0.2,-0.5 0,-0.7 L 19,12 c -0.2,-0.2 -0.5,-0.2 -0.7,0 l -0.1,0.1 c 0.1,-0.5 -0.1,-0.9 -0.4,-1.3 L 15.5,8.44 C 15.3,8.26 15,8.26 14.8,8.44 l -0.7,0.74 c -0.2,0.19 -0.2,0.49 0,0.68 l 0.3,0.34 -4.92,5 -0.36,-0.4 C 8.93,14.6 8.63,14.6 8.45,14.8 L 7.7,15.6 c -0.18,0.1 -0.18,0.4 0,0.6 l 2.4,2.4 c 0.3,0.3 0.7,0.4 1.2,0.4 l -0.1,0.1 c -0.2,0.2 -0.2,0.5 0,0.7 m 5.6,-0.8 3.9,0 1.6,-2 -5.5,2 z m -8.08,0 -3.28,-1.8 0.9,1.8 2.38,0 z\" fill=\"#ffffff\" />',\nIk='<path d=\"m 12.9,15.1 c 0.6,0 1.1,-0.5 1.1,-1 l 0.4,-5.9 c 0,-0.6 -0.6,-1.04 -1.5,-1.04 -0.8,0 -1.4,0.44 -1.4,1.04 l 0.3,5.9 c 0,0.5 0.6,1 1.1,1 m 0,1.3 c -0.7,0 -1.3,0.6 -1.3,1.3 0,0.8 0.6,1.4 1.3,1.4 0.8,0 1.4,-0.6 1.4,-1.4 0,-0.7 -0.6,-1.3 -1.4,-1.3\" fill=\"#ffffff\" />',Ek='<svg width=\"26\" height=\"32\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m 16.8,29.4 c 0,-1.1 -1.8,-2 -4,-2 -2.2,0 -4.01,0.9 -4.01,2 0,1.1 1.81,2 4.01,2 2.2,0 4,-0.9 4,-2\" style=\"fill:#878787\"/><path d=\"m 24.1,17.8 c 1.6,-1.6 1.6,-3.8 0,-5.7 L 15.8,1.9 C 15,0.998 14,0.498 12.9,0.498 11.8,0.498 10.7,1.1 10,1.9 L 1.7,12.1 c -1.6,1.9 -1.6,4.1 0,5.7 L 12.9,29 24.1,17.8 z\" stroke=\"#fff\" stroke-width=\"1\" fill=\"{{color}}\" />{{icon}}</svg>',\nJk='<svg width=\"26\" height=\"32\" xmlns=\"http://www.w3.org/2000/svg\"><circle cx=\"13\" cy=\"15\" r=\"11\" fill=\"{{color}}\" stroke=\"#ffffff\" stroke-width=\"1\"/><rect x=\"6\" y=\"13\" width=\"14\" height=\"5\" fill=\"#ffffff\" /></svg>';function Lk(a,b,c){c=c?c:{criticality:\"major,critical\"};if(!(a instanceof Dj))throw Error(\"IllegalArgument: service\");Bi.call(this,{max:20,min:8,requestData:v(this.$x,this)});this.nc=new Dk;this.fa=a;this.D=c;this.reload=v(this.reload,this);this.Ox=setInterval(this.reload,b||18E4)}u(Lk,Bi);r(\"H.service.TrafficIncidentsProvider\",Lk);Lk.prototype.Bu={minor:\"HIGH\",\"low impact\":\"HIGH\",major:\"VERYHIGH\",critical:\"BLOCKING\"};\nLk.prototype.$x=function(a,b,c,d,e){var f=this,g=this.Bu,h=this.nc;return this.fa.vs(a,b,c,function(a){var b=[];a=a.TRAFFIC_ITEMS;var c,e,q,s;if(a)for(a=a.TRAFFIC_ITEM,s=a.length;s--;){c=a[s];e=c.TRAFFIC_ITEM_TYPE_DESC;switch(e){case \"ACCIDENT\":case \"CONGESTION\":q=e;break;case \"CONSTRUCTION\":q=\"ROADWORKS\";break;default:q=\"OTHER\"}q=h.Ic(q,g[c.CRITICALITY.DESCRIPTION]);e=c.LOCATION.GEOLOC.ORIGIN;e=new Bh({lat:e.LATITUDE,lng:e.LONGITUDE},{provider:f,icon:q});e.setData(c);b.push(e)}d(b)},e,this.D)};\nLk.prototype.e=function(){Bi.prototype.e.call(this);clearInterval(this.Ox)};function Mk(a){var b;if(a)for(this.Lo={},b=a.length;b--;)this.Lo[a[b]]=!0;this.$s={}}var Nk;Mk.prototype.Lo={};Mk.prototype.parse=function(a,b,c){var d,e,f,g,h,k;Nk=!1;try{c=Hj.JSON.parse(c)}catch(l){Nk=!0}if(c&&(d=c.metadata))for(e in k={spatials:[]},d){if(c=!this.Lo[e]&&(f=Ok[e]))(g=d[e])||(Nk=!0,g=void 0),c=g;if(c)for(c=g.length;c--;){var n;(n=g[c])||(Nk=!0,n=void 0);(h=n)&&f(b,a,this,e,h,k)}}else Nk=!0;return Nk?void 0:k};r(\"H.service.metaInfo.Parser.prototype.parse\",Mk.prototype.parse);\nvar Ok={\"street labels\":function(a,b,c,d,e,f){var g;(g=e.vertices)||(Nk=!0,g=void 0);if(g){var h,k=g.length,l,n;(l=0<k)||(Nk=!0,l=void 0);if(l)for(h=Array(k/2);k;)n=g[--k],l=g[--k],h[k/2]=new G(l,n);h=h?[h]:[];k=+e[\"font size\"]/a.ge();g=c.$s[k];g||(Pk.lineWidth=k,g=c.$s[k]=c.Nb.qq(Pk));Qk(a,b,h,!1,g,e,d,f,-1)}delete e.vertices},\"city center labels\":function(a,b,c,d,e,f){Qk(a,b,Rk(e,[]),!0,c.Nb,e,d,f,-1)},labels:function(a,b,c,d,e,f){var g;(g=e[\"bounding boxes\"])||(Nk=!0,g=void 0);if(g){for(var h=\ng.length,k=[],l;h--;){var n;(n=g[h])||(Nk=!0,n=void 0);(l=n)&&Rk(l,k)}Qk(a,b,k,!0,c.Nb,e,d,f,-1)}delete e[\"bounding boxes\"]},buildings:function(a,b,c,d,e,f){var g=e.id,h=b.Ie[g],k,l,n,p=[],q=[];(k=e)||(Nk=!0,k=void 0);if(k&&((l=k.vertices)||(Nk=!0,l=void 0),l)){var s;(s=k.polygons)||(Nk=!0,s=void 0);(n=s)&&p.push.apply(p,Sk(l,n));(k=k.outlines)||(Nk=!0,k=void 0);(n=k)&&q.push.apply(q,Sk(l,n))}n=p.length;p.push.apply(p,q);(q=p.length)||(Nk=!0,q=void 0);q&&(h?(h.$c[a.key]=new pk(p,n,void 0),f.spatials.push(h)):\n(h=Qk(a,b,p,!0,c.Nb,e,d,f,n,g),b.k(h)))}};Ok[\"transit stops\"]=Ok.POIs=Ok.labels;var Tk=[\"box 2\",\"box 1\",\"annotation box\",\"icon box\"];function Rk(a,b){for(var c=Tk.length,d,e;c--;)if(d=Tk[c],e=a[d]){var f=e[0],g=e[1],h=e[2];e=e[3];b.push([new G(f,g),new G(f+h,g),new G(f+h,g+e),new G(f,g+e)]);delete a[d]}return b}\nfunction Sk(a,b){var c=b.length,d,e,f,g,h;if(0<c)for(e=Array(c);c--;)if((d=b[c])||(Nk=!0,d=void 0),d&&(g=d.length,0<g))for(e[c]=f=Array(g);g--;)h=2*d[g],f[g]=new G(a[h],a[h+1]);return e||[]}var Uk={};function Qk(a,b,c,d,e,f,g,h,k,l){Uk.style=e;d=new nk(b,d,l,Uk);d.$c[a.key]=new pk(c,k,void 0);Vk(f);f.category=g;d.setData(f);h.spatials.push(d);d.G(b);return d}Mk.prototype.Nb=new qe({strokeColor:\"transparent\",fillColor:\"transparent\",lineWidth:0});var Pk={};\nfunction Vk(a){var b,c=!1;switch(typeof a){case \"object\":if(a instanceof Array)for(b=a.length;b--;)Vk(a[b])?c=!0:delete a[b];else if(a)for(b in a)Vk(a[b])?c=!0:delete a[b];break;case \"number\":c=!0;break;default:c=!!a}return c};function Wk(a,b,c){c=c||{};b=b||{};var d=c.tileType||\"maptile\",e=c.scheme||\"normal.day\";this.D=b;if(!(a&&a instanceof Xk))throw Error(\"InvalidArgument: service required\");this.fa=a;this.cl=v(this.cl,this);this.fa.addEventListener(\"versionupdate\",this.cl);this.sa=a.s().i().m(d+\"/\"+a.Z+\"/\"+e).t(this.yp).t(b);this.Ga=a.Ga||null;this.Fa=c.pixelRatio||c.pixelratio||1;this.tileSize=c.tileSize||256;this.tileType=d;this.scheme=e;this.yi=0;this.No=c.tileCacheSize||256;this.objectProvider_=new Yj(new Mk(c.categoryFilter));\nthis.objectProvider_.G(this);this.Xb=v(this.Xb,this);this.objectProvider_.addEventListener(\"update\",this.Xb);this.pb=v(this.pb,this);this.ff=new Oh(this.No,this.pb);this.getCache=this.Pb;Q.call(this,{min:0,max:20})}u(Wk,Q);r(\"H.service.metaInfo.TileProvider\",Wk);Wk.prototype.Pb=function(){return this.ff};Wk.prototype.pb=function(a,b){var c,d,e;c=b.Qb();for(d=c.length;d--;)e=c[d],delete e.$c[b.key],e.He();b.data&&(Oj.push(b.zk(),this.tileSize),b.Ak())};Wk.prototype.Xb=function(){this.dispatchEvent(\"update\")};\nWk.prototype.uc=function(a,b,c,d,e){var f=this.sa.i(),g=this.Ga,h=this.tileSize,k=this.getTileKey(a,b,c),k=this.Pb().get(k),l,n;if(k&&!k.zj())d(Oj.pop(this.tileSize),null),l={cancel:function(){}};else{g&&f.W(g[(c+b+a)%g.length]);f.m(c+\"/\"+a+\"/\"+b+\"/\"+h+\"/png8\");var p=Hj.setTimeout(function(){n=new ua(f.toString(),function(a,b){b?e():d(null,a)})},500)}return l||{cancel:function(){n||Hj.clearTimeout(p)}}};Wk.prototype.requestInternal=Wk.prototype.uc;\nWk.prototype.lf=function(a,b,c,d,e){var f=this.objectProvider_,g;g=d||Oj.pop(this.tileSize);if(d)a=this.Pb().get(this.getTileKey(a,b,c)),a.F(d);else if(d=a=new P(this.uh(a,b,c),a,b,c,this.tileSize,this.Fa,c+this.yi,f),delete d.ap,d.$o=e,a.F(g))for(e=a.Qb(),g=e.length;g--;)e[g].Oe();else Oj.push(g,this.tileSize);return a};Wk.prototype.createTileInternal=Wk.prototype.lf;Wk.prototype.e=function(){this.objectProvider_.e();this.fa.removeEventListener(\"versionupdate\",this.cl);Q.prototype.e.call(this)};\nWk.prototype.cl=function(){var a=this.fa;this.sa=a.s().i().m(this.tileType+\"/\"+a.Z+\"/\"+this.scheme).t(this.yp).t(this.D);this.reload(!1)};Wk.prototype.yp={metadata:\"metaonly\",mgen:\"2\"};function Xk(a){a=Aj(Bj.maptile,a||{});yb.call(this);this.sa=a.baseUrl;this.A=a.path;this.dc=a.subDomain;this.Ga=a.shards;this.Q=(this.Sm=!!a.ignoreTypes)?null:a.type;this.Z=a.version;this.jo={};this.cj=new Ej}u(Xk,F);r(\"H.service.metaInfo.Service\",Xk);function Yk(a,b){for(var c={},d=a[b+\"s\"][b],e=d.length;e--;)c[d[e].id]=d[e];a[b+\"s\"]=c}\nXk.prototype.aa=function(a,b,c,d,e){this.H=(this.sa||e).i();this.dc&&this.H.W(this.dc);this.Q&&this.H.W(this.Q);this.A&&this.H.ac(this.A);\"newest\"===this.Z&&this.hm();return this};Xk.prototype.configure=Xk.prototype.aa;Xk.prototype.s=function(){return this.H};Xk.prototype.tj=function(){return this.Q};Xk.prototype.Im=function(){return this.Z};Xk.prototype.getVersion=Xk.prototype.Im;Xk.prototype.Eo=function(a){this.Z=a};Xk.prototype.ua=function(){return this.cj};Xk.prototype.getCopyrights=Xk.prototype.ua;\nXk.prototype.Vo=function(a){a=a.response;var b;Yk(a,\"map\");Yk(a,\"scheme\");Yk(a,\"tiletype\");Yk(a,\"format\");Yk(a,\"resolution\");Yk(a,\"language\");if(\"newest\"===this.Z&&\"traffic\"!==this.Q)for(b in a.maps)a.maps[b].hash&&a.maps[b].newest&&(this.Eo(a.maps[b].hash),this.dispatchEvent(\"versionupdate\"));this.Vm=a;this.dispatchEvent(\"infoupdate\")};\nXk.prototype.hm=function(){var a=this,b=this.s().i().m(\"info\").t({output:\"json\"});this.Ga&&b.W(this.Ga[0]);xj({url:b,Si:\"callback_func\",Cc:function(b){a.Vo(JSON.parse(b.replace(/,\\s?\\]/g,\"]\")))},rd:function(a){throw Error(\"[\"+a+\"]: Could not fetch meta-info from map tile service @\"+b.toString());},co:!0})};Xk.prototype.ym=function(){return this.Vm};Xk.prototype.getInfo=Xk.prototype.ym;Xk.prototype.Sg=function(a,b,c,d,e,f){return new Wk(this,d,{tileSize:a,pixelRatio:b,categoryFilter:c,tileType:e,scheme:f})};\nXk.prototype.createTileProvider=Xk.prototype.Sg;Xk.prototype.o=function(a,b,c,d,e,f){a=this.Sg(a,b,c,d,e,f);return new hi(a)};Xk.prototype.createTileLayer=Xk.prototype.o;V.prototype.sq=function(a){var b;b=Aj(Bj.metainfotile,a||{});var c;c=\"\"+(b.ignoreTypes?\"\":b.type);c+=b.path;c+=b.subDomain;c+=b.baseUrl;c+=b.shards?b.shards.join(\"\"):\"\";b=Gj(c);c=this.Xk[\"meta\"+b];c||(c=this.aa(new Xk(a)),this.Xk[\"meta\"+b]=c);return c};V.prototype.getMetaInfoService=V.prototype.sq;\nBj.metainfotile={type:\"base\",version:\"newest\",subDomain:\"maps\",path:\"maptile/2.1\",shards:[\"1\",\"2\",\"3\",\"4\"]};V.prototype.Au=function(a,b,c,d,e,f){var g=this.ph(),h=this.ph({type:\"aerial\"}),k=this.ph({type:\"traffic\"}),l=this.ph({type:\"pano\"}),n=this.sq(),p=this.yq(),q=this.Aq(),s={},t={crossOrigin:\"anonymous\"},x;\"object\"===typeof a&&(f=a,t.crossOrigin=\"crossOrigin\"in f?f.crossOrigin:\"anonymous\",a=f.tileSize,b=f.ppi,c=f.lg,d=f.lg2,e=f.style,f=f.pois);a=a||256;x=320===b?2:1;320===b&&(s.ppi=b);c&&(s.lg=c);d&&(s.lg2=d);e&&(s.style=e);f&&(s.pois=f);b=new Lk(p,void 0,c?s:null);this.qw=new Ci(b);return{normal:{xbase:g.o(\"xbasetile\",\n\"normal.day\",a,\"png8\",s,1,!1,t),xbasenight:g.o(\"xbasetile\",\"normal.night\",a,\"png8\",s,1,!1,t),base:g.o(\"basetile\",\"normal.day\",a,\"png8\",s,1,!1,t),basenight:g.o(\"basetile\",\"normal.night\",a,\"png8\",s,1,!1,t),map:g.o(\"maptile\",\"normal.day\",a,\"png8\",s,1,!1,t),mapnight:g.o(\"maptile\",\"normal.night\",a,\"png8\",s,1,!1,t),traffic:k.o(\"traffictile\",\"normal.day\",a,\"png8\",s,1,!1,t),trafficnight:k.o(\"traffictile\",\"normal.night\",a,\"png8\",s,1,!1,t),transit:g.o(\"maptile\",\"normal.day.transit\",a,\"png8\",s,1,!1,t),panorama:l.o(\"rctile\",\n\"normal.day\",a,\"png8\",s,1,!1,t),panoramanight:l.o(\"rctile\",\"normal.night\",a,\"png8\",s,1,!1,t),labels:g.o(\"labeltile\",\"normal.day\",a,\"png\",s,1,!1,t),metaInfo:n.o(a,x,[\"buildings\"],s)},satellite:{xbase:h.o(\"xbasetile\",\"hybrid.day\",a,\"jpg\",s,1,!0,t),base:h.o(\"basetile\",\"hybrid.day\",a,\"jpg\",s,1,!0,t),map:h.o(\"maptile\",\"hybrid.day\",a,\"jpg\",s,1,!0,t),traffic:k.o(\"traffictile\",\"hybrid.day\",a,\"jpg\",s,1,!0,t),panorama:l.o(\"rctile\",\"hybrid.day\",a,\"jpg\",s,1,!0,t),labels:h.o(\"labeltile\",\"hybrid.day\",a,\"png\",s,\n1,!0,t)},terrain:{xbase:h.o(\"xbasetile\",\"terrain.day\",a,\"jpg\",s,1,!1,t),base:h.o(\"basetile\",\"terrain.day\",a,\"jpg\",s,1,!1,t),map:h.o(\"maptile\",\"terrain.day\",a,\"jpg\",s,1,!1,t),traffic:k.o(\"traffictile\",\"terrain.day\",a,\"jpg\",s,1,!1,t),panorama:l.o(\"rctile\",\"terrain.day\",a,\"jpg\",s,1,!1,t),labels:h.o(\"labeltile\",\"terrain.day\",a,\"png\",s,1,!1,t)},incidents:this.qw,venues:q.o({tileSize:a,pixelRatio:x})}};V.prototype.createDefaultLayers=V.prototype.Au;function Zk(a){a=Aj(Bj.routing,a);a.callbackKey=\"jsoncallback\";Zk.a.constructor.call(this,a)}u(Zk,yj);r(\"H.service.RoutingService\",Zk);Zk.prototype.Cl=function(a,b,c){a=this.s().i().m(\"calculateroute.json\").t(a);zj(this,a,b,c)};Zk.prototype.calculateRoute=Zk.prototype.Cl;Bj.routing={subDomain:\"route\",path:\"routing/7.2\"};V.prototype.Zv=function(a){return this.aa(new Zk(a))};V.prototype.getRoutingService=V.prototype.Zv;function $k(a){a=Aj(Bj.geocoding,a);a.callbackKey=\"jsoncallback\";$k.a.constructor.call(this,a);this.As=a.reverseSubDomain}u($k,yj);r(\"H.service.GeocodingService\",$k);$k.prototype.dv=function(a,b,c){a=this.s().i().m(\"geocode.json\").t(a);return zj(this,a,b,c)};$k.prototype.geocode=$k.prototype.dv;$k.prototype.ey=function(a,b,c){a=this.s().i().m(\"reversegeocode.json\").t(a);this.As&&a.W(this.As);return zj(this,a,b,c)};$k.prototype.reverseGeocode=$k.prototype.ey;\n$k.prototype.search=function(a,b,c){a=this.s().i().m(\"search.json\").t(a);return zj(this,a,b,c)};$k.prototype.search=$k.prototype.search;Bj.geocoding={subDomain:\"geocoder\",path:\"6.2\",reverseSubDomain:\"reverse\"};V.prototype.wv=function(a){return this.aa(new $k(a))};V.prototype.getGeocodingService=V.prototype.wv;function al(a){a=Aj(Bj.places,a);a.callbackKey=\"callback\";al.a.constructor.call(this,a)}u(al,yj);r(\"H.service.PlacesService\",al);al.EntryPoint={SEARCH:\"discover/search\",SUGGEST:\"suggest\",EXPLORE:\"discover/explore\",AROUND:\"discover/around\",HERE:\"discover/here\",CATEGORIES:\"categories/places\"};al.prototype.$b=function(a,b,c,d){b=b||{};a=this.s().i().m(a).t(b);return zj(this,a,c,d)};al.prototype.request=al.prototype.$b;al.prototype.search=function(a,b,c){return this.$b(\"discover/search\",a,b,c)};\nal.prototype.search=al.prototype.search;al.prototype.ty=function(a,b,c){return this.$b(\"suggest\",a,b,c)};al.prototype.suggest=al.prototype.ty;al.prototype.Tu=function(a,b,c){return this.$b(\"discover/explore\",a,b,c)};al.prototype.explore=al.prototype.Tu;al.prototype.iu=function(a,b,c){return this.$b(\"discover/around\",a,b,c)};al.prototype.around=al.prototype.iu;al.prototype.ow=function(a,b,c){return this.$b(\"discover/here\",a,b,c)};al.prototype.here=al.prototype.ow;\nal.prototype.tu=function(a,b,c){return this.$b(\"categories/places\",a,b,c)};al.prototype.categories=al.prototype.tu;al.prototype.jm=function(a,b,c,d){a=vj(a);d&&a.t(d);return zj(this,a,b,c)};al.prototype.follow=al.prototype.jm;Bj.places={subDomain:\"places\",path:\"places/v1\"};V.prototype.Rv=function(){return this.aa(new al)};V.prototype.getPlacesService=V.prototype.Rv;function bl(a){a=Aj(Bj.enterpriseRouting,a);a.callbackKey=\"jsoncallback\";if(!B(a.baseUrl,U))throw new w(bl,0,\"Invalid base url\");this.Ta=a;bl.a.constructor.call(this,a)}u(bl,yj);r(\"H.service.EnterpriseRoutingService\",bl);bl.prototype.Cl=function(a,b,c){a=this.s().i().m(\"calculateroute.json\").t(a);zj(this,a,b,c)};bl.prototype.calculateRoute=bl.prototype.Cl;bl.prototype.Yv=function(a,b,c){a=this.s().i().m(\"getroute.json\").t(a);zj(this,a,b,c)};bl.prototype.getRoute=bl.prototype.Yv;\nbl.prototype.Fv=function(a,b,c){a=this.s().i().m(\"getlinkinfo.json\").t(a);zj(this,a,b,c)};bl.prototype.getLinkInfo=bl.prototype.Fv;bl.prototype.pu=function(a,b,c){a=this.s().i().m(\"calculateisoline.json\").t(a);zj(this,a,b,c)};bl.prototype.calculateIsoline=bl.prototype.pu;bl.prototype.aa=function(a,b,c,d,e){var f,g=Bj.enterpriseRouting;this.Ta.baseUrl===g.baseUrl&&e&&(f=e.i(),f.cd(g.host),d&&f.W(g.citSubDomain));return yj.prototype.aa.apply(this,[a,b,c,d,f])};bl.prototype.configure=bl.prototype.aa;\nvar cl={subDomain:\"route\",path:\"routing/6.2\",baseUrl:new U(\"http\",\"nlp.nokia.com\"),host:\"nlp.nokia.com\",citSubDomain:\"st\"};Bj.enterpriseRouting=cl;V.prototype.sv=function(a){return this.aa(new bl(a))};V.prototype.getEnterpriseRoutingService=V.prototype.sv;r(\"H.service.buildInfo\",function(){return Hi(\"mapsjs-service\",\"0.12.5\",\"12e23dc\")});\n");